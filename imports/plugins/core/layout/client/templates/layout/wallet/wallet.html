<template name="wallet">
  <div class="flex flex-column flex-align-center flex-2x container-lg">

    <div class="flex-item">
      <div class="panel panel-lg">
        <div class="panel-heading">
          <h3 class="panel-title">Your Balance</h3>
        </div>
        <div class="panel-content">
          <span style="font-weight: bolder; font-size: 4.2em">{{formatPrice balance.balance}}</span>
        </div>
      </div>
    </div>


    <div class="flex-item">
      <div class="panel panel-default">
        <div class="panel-heading">
          <h3 class="panel-title">Deposit</h3>
          <p class="panel-body">Enter the amount you want to Deposit in Naira (transfer using paystack)</p>
        </div>

        <div class="panel-content">
          <form id="deposit">
            <div class="row form-group col-md-6 col-md-offset-3">
              <input id="depositAmount" class="form-control" type="text" placeholder="Amount">
            </div>
            <button type="submit" class="row col-md-2 col-md-offset-5 btn btn-success">Deposit</button>
          </form>
        </div>
      </div>
    </div>

    <div class="flex-item">
      <div class="panel panel-default">
        <div class="panel-heading">
          <h3 class="panel-title">Transfer</h3>
          <p class="panel-body">Enter the amount you want to transfer from your wallet</p>
        </div>

        <div class="panel-content">
          <form id="transfer">
            <div class="col-xs-6">
              <input id="transferAmount" class="form-control" type="text" name="amount" placeholder="Amount">
            </div>
            <div class="col-xs-6">
              <input id="recipient" class="form-control" type="email" name="email" placeholder="Beneficiary Email">
            </div>
            <button type="submit" class="btn btn-success col-md-2 col-md-offset-5" style="margin-top:15px">Get Details</button>
          </form>
        </div>
      </div>
    </div>

    <div class="col-sm-10" id="transactions">
      <div class="row">
        <h2>Transactions</h2>

        {{> transactionDetails}}
      </div>
    </div>
  </div>
</template>

<template name="transactionDetails">
  <div>
    {{#if isReady}}
    {{#if transactions 'gt' 0 }}
    <table class="table table-hover table-bordered">
      <thead>
        <tr>
          <th>Transaction Type</th>
          <th>Amount</th>
          <th>From</th>
          <th>To</th>
          <th>Order Id</th>
          <th>Date and Time</th>
        </tr>
      </thead>
      <tbody>
        {{#each transactions }}
        <tr>
          <td>{{capitalize transactionType}}</td>
          <td>{{formatPrice amount}}</td>
          <td>{{from}}</td>
          <td>{{to}}</td>
          <td>{{orderId}}</td>
          <td>{{date}}</td>
        </tr>
        {{/each}}
      </tbody>
    </table>
    {{else}}
    <h3>You have not made any transaction yet</h3>
    {{/if}}
    {{> defaultBootstrapPaginator pagination=templatePagination limit=10 containerClass="text-center" onClick=clickEvent}} {{else}}
    Loading... {{/if}}
  </div>
</template>
